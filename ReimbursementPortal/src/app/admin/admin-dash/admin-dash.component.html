<body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <div class="container-fluid" id="navDiv1" >
            <div class="navbar-brand" >Reimbursement Portal</div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample03" aria-controls="navbarsExample03" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarsExample03">
                <ul class="navbar-nav ms-auto mb-2 mb-sm-0">
                    <!-- <a href="/login" class="btn btn-danger btn-small btn-nav" style="float:right;" >Logout</a> -->
                    <li class="nav-item" style="float:right">
                        <a class="nav-link" (click)="pending()">Pending Requests</a>
                    </li>
                    <li class="nav-item" style="float:right">
                        <a class="nav-link" (click)="decline()">Declined Requests</a>
                    </li>
                    <li class="nav-item" style="float:right">
                        <a class="nav-link" (click)="approve()">Approved Requests</a>
                    </li>

                    <!-- <li class="nav-item" style="float:right">
                        <a class="nav-link" href="/login">Logout</a>
                    </li> -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown03" data-bs-toggle="dropdown" aria-expanded="false">Reimbursement Type</a>
                        <ul class="dropdown-menu  table table-success" aria-labelledby="dropdown03">
                            <li><a (click)="dropdown('Medical')" class="dropdown-item">Medical</a></li>
                            <li><a (click)="dropdown('Travel')" class="dropdown-item">Travel</a></li>
                            <li><a (click)="dropdown('Food')" class="dropdown-item">Food</a></li>
                            <li><a (click)="dropdown('Entertainment')" class="dropdown-item">Entertainment</a></li>
                            <li><a (click)="dropdown('Misc.')" class="dropdown-item">Misc.</a></li>

                        </ul>
                    </li> 
                </ul>
                <form>
                    <input type="text"  style="padding-left: 5px; padding-right: 10px;" placeholder="abc@xyz.com" name="EmailFilter" id="EmailFilter" #EmailFilter aria-label="Search">
                    <button class="btn btn-outline-success pad"  (click)="SearchRequestedBy(EmailFilter.value)" type="submit">Search</button>
                    <a class="btn btn-outline-danger pad" href="/login">Logout</a>
                </form>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- <div class="addbutton"><a href="/add-data/{{emailParams}}"><button class="btn btn-secondary">Add Record</button></a></div> -->
        <div class="col-sm-12 mx-auto text-center" style="margin-top: 25px; "><h3>{{heading}}</h3></div>
        <br>
        <div class="table-responsive"  >
            <table class="table table-hover table-striped table-bordered" >
                <thead class="thead thead-dark">
                    <tr>
                        <th scope = "col">Date</th>
                        <th scope = "col">Requested By</th>
                        <th scope = "col">Reimbursement Type</th>
                        <th scope = "col">Requested Value</th>
                        <th scope = "col">Currency</th>
                        <th scope = "col">Receipt Attached</th>
                        <th scope = "col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor= "let item of collection">
                        <th scope="row">{{item.date.split('T')[0]}}</th>
                        <td>{{item.requestedBy}}</td>
                        <td>{{item.reimbursementType}}</td>
                        <td>{{item.requestedValue}}</td>
                        <td>{{item.currency}}</td>
                        <td>{{item.receiptImageLink== 0 ? 'No receipt' : item.receiptImageLink}}</td>
                        <td *ngIf="item.requestedPhase == 'To be processed'"><div class="buttons">
                            <a href = "/approvereq/{{item.reimbursementID}}"><button class="btn btn-secondary">Approve</button></a>
                            <a (click)="declineRequest(item.reimbursementID)" style="margin-left: 8px;" ><button class="btn btn-danger">Decline</button></a>
                        </div></td>
                    </tr>     
                </tbody>
            </table>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
